import{g as S}from"./assets-ce4ccef5.js";import{D as F,L as R}from"./KTDataTable-88696261.js";import{S as y}from"./sweetalert2-d38ee055.js";import{a as L}from"./alphabet-a5bbf61c.js";import{m as U,r as m,at as E,_ as P,p as D,q as r,w as d,x as e,K as u,C as w,a0 as s,F as k,y as O,z as g,a5 as $,L as p,A as V,au as B,o as I,a6 as l,M as q}from"./index-93335d48.js";import{h as Z}from"./dom-8a591f7a.js";import{g as K}from"./customerTypes-c936569d.js";import{g as j}from"./DeliveryTypes-dd2c53b6.js";import{g as W}from"./paymentTypes-79f67519.js";import{a as H}from"./index-39b333fd.js";import{g as G}from"./customers-1f9e0e90.js";const J=U({name:"export-accessories-modal",components:{},setup(){const o=m(null),a=m(!1),c=m({Filter:"",fromName:"A",toName:"Z",exportFormat:"excel"}),h=m({});return{formData:c,rules:h,submit:()=>{o.value&&o.value.validate(f=>{if(f){a.value=!0;let i=m(""),v=m("");if(c.value.exportFormat=="excel")i.value="ExportExcel",v.value=".xlsx";else if(c.value.exportFormat=="csv")i.value="ExportCsv",v.value=".csv";else{y.fire({text:"Attenzione, selezionare il formato del file.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}),a.value=!1;return}E.get(`Customers/${i.value}?fromName=${c.value.fromName}&toName=${c.value.toName}`,"blob").then(t=>{const C=URL.createObjectURL(new Blob([t.data])),_=document.createElement("a");_.href=C,_.setAttribute("download","export clienti"+v.value),document.body.appendChild(_),_.click(),window.URL.revokeObjectURL(C),document.body.removeChild(_),a.value=!1,y.fire({text:"Operazione completata!",icon:"success",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}})}).catch(({response:t})=>{console.log(t),a.value=!1,y.fire({text:"Attenzione, si è verificato un errore.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}})})}else return y.fire({text:"Attenzione, si è verificato un errore.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}),!1})},formRef:o,loading:a,getAssetPath:S,alphabet:L}}});const Q={class:"modal fade",id:"kt_export_modal",tabindex:"-1","aria-hidden":"true"},X={class:"modal-dialog modal-dialog-centered mw-650px"},Y={class:"modal-content"},ee={class:"modal-header"},oe=e("h2",{class:"fw-bold"},"Export Clienti",-1),te={id:"kt_export_close","data-bs-dismiss":"modal",class:"btn btn-icon btn-sm btn-active-icon-primary"},ae={class:"modal-body scroll-y mx-5 mx-xl-15 my-7"},se={class:"fv-row mb-10"},le=e("label",{class:"fs-5 fw-semobold form-label mb-5"},"Seleziona il range da lettera a lettera:",-1),ne={class:"input-group mb-5"},ie=["value"],re=e("span",{class:"input-group-text"},"-",-1),de=["value"],me={class:"fv-row mb-10"},ce=e("label",{class:"fs-5 fw-semobold form-label mb-5"},"Seleziona il formato:",-1),fe=e("option",{value:"excel"},"Excel",-1),ue=e("option",{value:"csv"},"CSV",-1),pe=[fe,ue],be={class:"text-center"},ve=e("button",{type:"reset",id:"kt_export_cancel",class:"btn btn-light me-3"}," Scarta ",-1),_e=["data-kt-indicator"],he={key:0,class:"indicator-label"},ye={key:1,class:"indicator-progress"},ge=e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function Ce(o,a,c,h,b,f){const i=D("KTIcon"),v=D("el-form");return r(),d("div",Q,[e("div",X,[e("div",Y,[e("div",ee,[oe,e("div",te,[u(i,{"icon-name":"cross","icon-class":"fs-1"})])]),e("div",ae,[u(v,{onSubmit:a[3]||(a[3]=B(t=>o.submit(),["prevent"])),model:o.formData,rules:o.rules,ref:"formRef"},{default:w(()=>[e("div",se,[le,e("div",ne,[s(e("select",{class:"form-select","aria-label":"Select example","onUpdate:modelValue":a[0]||(a[0]=t=>o.formData.fromName=t)},[(r(!0),d(k,null,O(o.alphabet,t=>(r(),d("option",{key:t.name,value:t.name},g(t.name),9,ie))),128))],512),[[$,o.formData.fromName]]),re,s(e("select",{class:"form-select","aria-label":"Select example","onUpdate:modelValue":a[1]||(a[1]=t=>o.formData.toName=t)},[(r(!0),d(k,null,O(o.alphabet,t=>(r(),d("option",{key:t.name,value:t.name},g(t.name),9,de))),128))],512),[[$,o.formData.toName]])])]),e("div",me,[ce,s(e("select",{class:"form-select","aria-label":"Select example","onUpdate:modelValue":a[2]||(a[2]=t=>o.formData.exportFormat=t)},pe,512),[[$,o.formData.exportFormat]])]),e("div",be,[ve,e("button",{"data-kt-indicator":o.loading?"on":null,type:"submit",class:"btn btn-lg btn-primary"},[o.loading?V("",!0):(r(),d("span",he,[p(" Invia "),u(i,{"icon-name":"arrow-right","icon-class":"fs-3 ms-2 me-0"})])),o.loading?(r(),d("span",ye,[p(" Attendere... "),ge])):V("",!0)],8,_e)])]),_:1},8,["model","rules"])])])])])}const we=P(J,[["render",Ce]]),De=U({name:"add-customer-modal",components:{},setup(o,{emit:a}){const c=m(null),h=m(null),b=m(!1),f=m({Address:"",ZipCode:"",City:"",Country:"",Province:"",AdministrativeOfficeAddress:"",AdministrativeOfficeZipCode:"",AdministrativeOfficeCity:"",AdministrativeOfficeCountry:"",AdministrativeOfficeProvince:"",OperatingOfficeAddress:"",OperatingOfficeZipCode:"",OperatingOfficeCity:"",OperatingOfficeCountry:"",OperatingOfficeProvince:"",VATNumber:"",FiscalCode:"",ContactPerson:"",Phone:"",Mobile:"",Email:"",PEC:"",UniqueCode:"",ReferenceAgent:"",PaymentTypeId:0,PaymentType:"",BankCoordinates:"",Notes:"",Fax:"",Bank:"",Status:"",DeliveryTypeId:0,DeliveryType:"",CustomerType:"",CustomerTypeId:0,Code:"",Name:""}),i=m({name:[{required:!0,message:"Inserire il nome",trigger:"change"}],Code:[{required:!0,message:"Inserire il codice",trigger:"change"}],Email:[{required:!0,message:"Inserire l'email",trigger:"change"}]}),v="Customers";let t=m([]),C=m([]),_=m([]);async function n(){try{t.value=await K(""),_.value=await j(""),C.value=await W("")}catch(z){console.error(z)}}return I(()=>{n()}),{formData:f,rules:i,submit:()=>{const z=t.value.find(A=>A.name===f.value.CustomerType),N=C.value.find(A=>A.name===f.value.PaymentType),x=_.value.find(A=>A.name===f.value.DeliveryType);if(c.value){if(z===void 0){y.fire({text:"Attenzione, selezionare la tipologia di cliente.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}});return}if(N===void 0){y.fire({text:"Attenzione, selezionare il metodo di pagamento.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}});return}if(x===void 0){y.fire({text:"Attenzione, selezionare il modalità di consegna.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}});return}f.value.CustomerTypeId=z.id,f.value.PaymentTypeId=N.id,f.value.DeliveryTypeId=x.id,c.value.validate(A=>{if(A)b.value=!0,console.log(f.value),E.post(`${v}/Create`,f.value).then(()=>{b.value=!1,y.fire({text:"Operazione completata!",icon:"success",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}).then(()=>{Z(h.value)}),a("formAddSubmitted",f.value)}).catch(({response:M})=>{console.log(M),b.value=!1,y.fire({text:"Attenzione, si è verificato un errore.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}})});else return b.value=!1,y.fire({text:"Attenzione, non tutti i campi sono corretti.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}}),!1})}},formRef:c,loading:b,addCustomerModalRef:h,getAssetPath:S,CustomerTypes:t,PaymentTypes:C,DeliveryTypes:_}}}),Ae={class:"modal fade",id:"kt_modal_add",ref:"addCustomerModalRef",tabindex:"-1","aria-hidden":"true"},ke={class:"modal-dialog modal-dialog-centered mw-650px"},$e={class:"modal-content"},Te={class:"modal-header",id:"kt_modal_add_header"},Oe=e("h2",{class:"fw-bold"},"Aggiungi cliente",-1),ze={id:"kt_modal_add_close","data-bs-dismiss":"modal",class:"btn btn-icon btn-sm btn-active-icon-primary"},Ve={class:"modal-body py-10 px-lg-17"},Ie={class:"scroll-y me-n7 pe-7",id:"kt_modal_add_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_header","data-kt-scroll-wrappers":"#kt_modal_add_scroll","data-kt-scroll-offset":"300px"},Se={class:"fv-row mb-7"},Ue=e("label",{class:"required fs-6 fw-semobold mb-2"},"Codice",-1),Ee={class:"fv-row mb-7"},Pe=e("label",{class:"required fs-6 fw-semobold mb-2"},"Nome",-1),Ne={class:"d-flex flex-column mb-7 fv-row"},xe=e("label",{class:"fs-6 fw-semobold mb-2"},[e("span",{class:"required"},"Tipologia cliente")],-1),Be=e("option",{value:""},"Seleziona la tipologia cliente...",-1),Me=["value"],Fe={class:"d-flex flex-column mb-7 fv-row"},Re=e("label",{class:"fs-6 fw-semobold mb-2"},[e("span",{class:"required"},"Modalità di pagamento")],-1),Le=e("option",{value:""},"Seleziona la modalità di pagamento...",-1),qe=["value"],Ze={class:"d-flex flex-column mb-7 fv-row"},Ke=e("label",{class:"fs-6 fw-semobold mb-2"},[e("span",{class:"required"},"Modalità di consegna")],-1),je=e("option",{value:""},"Seleziona la modalità di consegna...",-1),We=["value"],He={class:"fv-row mb-7"},Ge=e("label",{class:"fs-6 fw-semobold mb-2"},"Indirizzo",-1),Je={class:"fv-row mb-7"},Qe=e("label",{class:"fs-6 fw-semobold mb-2"},"CAP",-1),Xe={class:"fv-row mb-7"},Ye=e("label",{class:"fs-6 fw-semobold mb-2"},"Città",-1),eo={class:"fv-row mb-7"},oo=e("label",{class:"fs-6 fw-semobold mb-2"},"Nazione",-1),to={class:"fv-row mb-7"},ao=e("label",{class:"fs-6 fw-semobold mb-2"},"Provincia",-1),so={class:"fv-row mb-7"},lo=e("label",{class:"fs-6 fw-semobold mb-2"},"Note",-1),no={class:"fw-bold fs-3 rotate collapsible mb-7","data-bs-toggle":"collapse",href:"#kt_modal_add_billing_info",role:"button","aria-expanded":"false","aria-controls":"kt_view_details"},io={class:"ms-2 rotate-180"},ro={id:"kt_modal_add_billing_info",class:"collapse show"},mo={class:"fv-row mb-7"},co=e("label",{class:"fs-6 fw-semobold mb-2"},"Indirizzo sede amministativa",-1),fo={class:"fv-row mb-7"},uo=e("label",{class:"fs-6 fw-semobold mb-2"},"Cap sede amministativa",-1),po={class:"fv-row mb-7"},bo=e("label",{class:"fs-6 fw-semobold mb-2"},"Città sede amministativa",-1),vo={class:"fv-row mb-7"},_o=e("label",{class:"fs-6 fw-semobold mb-2"},"Nazione sede amministativa",-1),ho={class:"fv-row mb-7"},yo=e("label",{class:"fs-6 fw-semobold mb-2"},"Provincia sede amministativa",-1),go={class:"fw-bold fs-3 rotate collapsible mb-7","data-bs-toggle":"collapse",href:"#kt_modal_add_operating_info",role:"button","aria-expanded":"false","aria-controls":"kt_view_details"},Co={class:"ms-2 rotate-180"},wo={id:"kt_modal_add_operating_info",class:"collapse show"},Do={class:"fv-row mb-7"},Ao=e("label",{class:"fs-6 fw-semobold mb-2"},"Indirizzo sede operativa",-1),ko={class:"fv-row mb-7"},$o=e("label",{class:"fs-6 fw-semobold mb-2"},"Cap sede operativa",-1),To={class:"fv-row mb-7"},Oo=e("label",{class:"fs-6 fw-semobold mb-2"},"Città sede operativa",-1),zo={class:"fv-row mb-7"},Vo=e("label",{class:"fs-6 fw-semobold mb-2"},"Nazione sede operativa",-1),Io={class:"fv-row mb-7"},So=e("label",{class:"fs-6 fw-semobold mb-2"},"Provincia sede operativa",-1),Uo={class:"fw-bold fs-3 rotate collapsible mb-7","data-bs-toggle":"collapse",href:"#kt_modal_add_agency_info",role:"button","aria-expanded":"false","aria-controls":"kt_view_details"},Eo={class:"ms-2 rotate-180"},Po={id:"kt_modal_add_agency_info",class:"collapse show"},No={class:"fv-row mb-7"},xo=e("label",{class:"fs-6 fw-semobold mb-2"},"P. IVA",-1),Bo={class:"fv-row mb-7"},Mo=e("label",{class:"fs-6 fw-semobold mb-2"},"Codice ficale",-1),Fo={class:"fv-row mb-7"},Ro=e("label",{class:"fs-6 fw-semobold mb-2"},"Referente",-1),Lo={class:"fv-row mb-7"},qo=e("label",{class:"fs-6 fw-semobold mb-2"},"Telefono",-1),Zo={class:"fv-row mb-7"},Ko=e("label",{class:"fs-6 fw-semobold mb-2"},"Cellulare",-1),jo={class:"fv-row mb-7"},Wo=e("label",{class:"fs-6 fw-semobold mb-2"},"Email",-1),Ho={class:"fv-row mb-7"},Go=e("label",{class:"fs-6 fw-semobold mb-2"},"PEC",-1),Jo={class:"fv-row mb-7"},Qo=e("label",{class:"fs-6 fw-semobold mb-2"},"Codice univoco",-1),Xo={class:"fv-row mb-7"},Yo=e("label",{class:"fs-6 fw-semobold mb-2"},"Agente di riferimento",-1),et={class:"fv-row mb-7"},ot=e("label",{class:"fs-6 fw-semobold mb-2"},"Coordinate bancarie",-1),tt={class:"fv-row mb-7"},at=e("label",{class:"fs-6 fw-semobold mb-2"},"Fax",-1),st={class:"fv-row mb-7"},lt=e("label",{class:"fs-6 fw-semobold mb-2"},"Banca",-1),nt={class:"modal-footer flex-center"},it=e("button",{type:"reset",id:"kt_modal_add_cancel",class:"btn btn-light me-3"}," Scarta ",-1),rt=["data-kt-indicator"],dt={key:0,class:"indicator-label"},mt={key:1,class:"indicator-progress"},ct=e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function ft(o,a,c,h,b,f){const i=D("KTIcon"),v=D("el-form");return r(),d("div",Ae,[e("div",ke,[e("div",$e,[e("div",Te,[Oe,e("div",ze,[u(i,{"icon-name":"cross","icon-class":"fs-1"})])]),u(v,{onSubmit:a[33]||(a[33]=B(t=>o.submit(),["prevent"])),model:o.formData,rules:o.rules,ref:"formRef"},{default:w(()=>[e("div",Ve,[e("div",Ie,[e("div",Se,[Ue,s(e("input",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=t=>o.formData.Code=t),type:"text",placeholder:"Codice..."},null,512),[[l,o.formData.Code]])]),e("div",Ee,[Pe,s(e("input",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=t=>o.formData.Name=t),type:"text",placeholder:"Nome..."},null,512),[[l,o.formData.Name]])]),e("div",Ne,[xe,s(e("select",{class:"form-select","aria-label":"Select example","onUpdate:modelValue":a[2]||(a[2]=t=>o.formData.CustomerType=t)},[Be,(r(!0),d(k,null,O(o.CustomerTypes,t=>(r(),d("option",{key:t.id,value:t.name},g(t.name),9,Me))),128))],512),[[$,o.formData.CustomerType]])]),e("div",Fe,[Re,s(e("select",{class:"form-select","aria-label":"Select example","onUpdate:modelValue":a[3]||(a[3]=t=>o.formData.PaymentType=t)},[Le,(r(!0),d(k,null,O(o.PaymentTypes,t=>(r(),d("option",{key:t.id,value:t.name},g(t.name),9,qe))),128))],512),[[$,o.formData.PaymentType]])]),e("div",Ze,[Ke,s(e("select",{class:"form-select","aria-label":"Select example","onUpdate:modelValue":a[4]||(a[4]=t=>o.formData.DeliveryType=t)},[je,(r(!0),d(k,null,O(o.DeliveryTypes,t=>(r(),d("option",{key:t.id,value:t.name},g(t.name),9,We))),128))],512),[[$,o.formData.DeliveryType]])]),e("div",He,[Ge,s(e("input",{class:"form-control","onUpdate:modelValue":a[5]||(a[5]=t=>o.formData.Address=t),type:"text",placeholder:"Indirizzo..."},null,512),[[l,o.formData.Address]])]),e("div",Je,[Qe,s(e("input",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=t=>o.formData.ZipCode=t),type:"text",placeholder:"CAP..."},null,512),[[l,o.formData.ZipCode]])]),e("div",Xe,[Ye,s(e("input",{class:"form-control","onUpdate:modelValue":a[7]||(a[7]=t=>o.formData.City=t),type:"text",placeholder:"Città..."},null,512),[[l,o.formData.City]])]),e("div",eo,[oo,s(e("input",{class:"form-control","onUpdate:modelValue":a[8]||(a[8]=t=>o.formData.Country=t),type:"text",placeholder:"Nazione..."},null,512),[[l,o.formData.Country]])]),e("div",to,[ao,s(e("input",{class:"form-control","onUpdate:modelValue":a[9]||(a[9]=t=>o.formData.Province=t),type:"text",placeholder:"Provincia..."},null,512),[[l,o.formData.Province]])]),e("div",so,[lo,s(e("input",{class:"form-control","onUpdate:modelValue":a[10]||(a[10]=t=>o.formData.Notes=t),type:"text",placeholder:"Note..."},null,512),[[l,o.formData.Notes]])]),e("div",no,[p(" Informazioni sede amministrativa "),e("span",io,[u(i,{"icon-name":"down","icon-class":"fs-3"})])]),e("div",ro,[e("div",mo,[co,s(e("input",{class:"form-control","onUpdate:modelValue":a[11]||(a[11]=t=>o.formData.AdministrativeOfficeAddress=t),type:"text",placeholder:"Indirizzo sede amministativa..."},null,512),[[l,o.formData.AdministrativeOfficeAddress]])]),e("div",fo,[uo,s(e("input",{class:"form-control","onUpdate:modelValue":a[12]||(a[12]=t=>o.formData.AdministrativeOfficeZipCode=t),type:"text",placeholder:"Cap sede amministativa..."},null,512),[[l,o.formData.AdministrativeOfficeZipCode]])]),e("div",po,[bo,s(e("input",{class:"form-control","onUpdate:modelValue":a[13]||(a[13]=t=>o.formData.AdministrativeOfficeCity=t),type:"text",placeholder:"Città sede amministativa..."},null,512),[[l,o.formData.AdministrativeOfficeCity]])]),e("div",vo,[_o,s(e("input",{class:"form-control","onUpdate:modelValue":a[14]||(a[14]=t=>o.formData.AdministrativeOfficeCountry=t),type:"text",placeholder:"Nazione sede amministativa..."},null,512),[[l,o.formData.AdministrativeOfficeCountry]])]),e("div",ho,[yo,s(e("input",{class:"form-control","onUpdate:modelValue":a[15]||(a[15]=t=>o.formData.AdministrativeOfficeProvince=t),type:"text",placeholder:"Provincia sede amministativa..."},null,512),[[l,o.formData.AdministrativeOfficeProvince]])])]),e("div",go,[p(" Informazioni sede operativa "),e("span",Co,[u(i,{"icon-name":"down","icon-class":"fs-3"})])]),e("div",wo,[e("div",Do,[Ao,s(e("input",{class:"form-control","onUpdate:modelValue":a[16]||(a[16]=t=>o.formData.OperatingOfficeAddress=t),type:"text",placeholder:"Indirizzo sede operativa..."},null,512),[[l,o.formData.OperatingOfficeAddress]])]),e("div",ko,[$o,s(e("input",{class:"form-control","onUpdate:modelValue":a[17]||(a[17]=t=>o.formData.OperatingOfficeZipCode=t),type:"text",placeholder:"Cap sede operativa..."},null,512),[[l,o.formData.OperatingOfficeZipCode]])]),e("div",To,[Oo,s(e("input",{class:"form-control","onUpdate:modelValue":a[18]||(a[18]=t=>o.formData.OperatingOfficeCity=t),type:"text",placeholder:"Città sede amministativa..."},null,512),[[l,o.formData.OperatingOfficeCity]])]),e("div",zo,[Vo,s(e("input",{class:"form-control","onUpdate:modelValue":a[19]||(a[19]=t=>o.formData.OperatingOfficeCountry=t),type:"text",placeholder:"Nazione sede amministativa..."},null,512),[[l,o.formData.OperatingOfficeCountry]])]),e("div",Io,[So,s(e("input",{class:"form-control","onUpdate:modelValue":a[20]||(a[20]=t=>o.formData.OperatingOfficeProvince=t),type:"text",placeholder:"Provincia sede amministativa..."},null,512),[[l,o.formData.OperatingOfficeProvince]])])]),e("div",Uo,[p(" Informazioni aziendali "),e("span",Eo,[u(i,{"icon-name":"down","icon-class":"fs-3"})])]),e("div",Po,[e("div",No,[xo,s(e("input",{class:"form-control","onUpdate:modelValue":a[21]||(a[21]=t=>o.formData.VATNumber=t),type:"text",placeholder:"P. IVA..."},null,512),[[l,o.formData.VATNumber]])]),e("div",Bo,[Mo,s(e("input",{class:"form-control","onUpdate:modelValue":a[22]||(a[22]=t=>o.formData.FiscalCode=t),type:"text",placeholder:"Codice ficale..."},null,512),[[l,o.formData.FiscalCode]])]),e("div",Fo,[Ro,s(e("input",{class:"form-control","onUpdate:modelValue":a[23]||(a[23]=t=>o.formData.ContactPerson=t),type:"text",placeholder:"Referente..."},null,512),[[l,o.formData.ContactPerson]])]),e("div",Lo,[qo,s(e("input",{class:"form-control","onUpdate:modelValue":a[24]||(a[24]=t=>o.formData.Phone=t),type:"text",placeholder:"Telefono..."},null,512),[[l,o.formData.Phone]])]),e("div",Zo,[Ko,s(e("input",{class:"form-control","onUpdate:modelValue":a[25]||(a[25]=t=>o.formData.Mobile=t),type:"text",placeholder:"Cellulare..."},null,512),[[l,o.formData.Mobile]])]),e("div",jo,[Wo,s(e("input",{class:"form-control","onUpdate:modelValue":a[26]||(a[26]=t=>o.formData.Email=t),type:"text",placeholder:"Email..."},null,512),[[l,o.formData.Email]])]),e("div",Ho,[Go,s(e("input",{class:"form-control","onUpdate:modelValue":a[27]||(a[27]=t=>o.formData.PEC=t),type:"text",placeholder:"PEC..."},null,512),[[l,o.formData.PEC]])]),e("div",Jo,[Qo,s(e("input",{class:"form-control","onUpdate:modelValue":a[28]||(a[28]=t=>o.formData.UniqueCode=t),type:"text",placeholder:"Codice univoco..."},null,512),[[l,o.formData.UniqueCode]])]),e("div",Xo,[Yo,s(e("input",{class:"form-control","onUpdate:modelValue":a[29]||(a[29]=t=>o.formData.ReferenceAgent=t),type:"text",placeholder:"Agente di riferimento..."},null,512),[[l,o.formData.ReferenceAgent]])]),e("div",et,[ot,s(e("input",{class:"form-control","onUpdate:modelValue":a[30]||(a[30]=t=>o.formData.BankCoordinates=t),type:"text",placeholder:"Coordinate bancarie..."},null,512),[[l,o.formData.BankCoordinates]])]),e("div",tt,[at,s(e("input",{class:"form-control","onUpdate:modelValue":a[31]||(a[31]=t=>o.formData.Fax=t),type:"text",placeholder:"Fax..."},null,512),[[l,o.formData.Fax]])]),e("div",st,[lt,s(e("input",{class:"form-control","onUpdate:modelValue":a[32]||(a[32]=t=>o.formData.Bank=t),type:"text",placeholder:"Banca..."},null,512),[[l,o.formData.Bank]])])])])]),e("div",nt,[it,e("button",{"data-kt-indicator":o.loading?"on":null,class:"btn btn-lg btn-primary",type:"submit"},[o.loading?V("",!0):(r(),d("span",dt,[p(" Invia "),u(i,{"icon-name":"arrow-right","icon-class":"fs-2 me-2 me-0"})])),o.loading?(r(),d("span",mt,[p(" Attendere... "),ct])):V("",!0)],8,rt)])]),_:1},8,["model","rules"])])])],512)}const ut=P(De,[["render",ft]]),pt=U({name:"accessories-list",components:{Datatable:F,ExportCustomersModal:we,AddCustomerModal:ut,Loading:R},setup(){let o=m(!0);const a=m([{columnName:"Codice",columnLabel:"code",sortEnabled:!0,columnWidth:175},{columnName:"Nome",columnLabel:"name",sortEnabled:!0,columnWidth:230},{columnName:"Telefono",columnLabel:"phone",sortEnabled:!0,columnWidth:175},{columnName:"Email",columnLabel:"email",sortEnabled:!0,columnWidth:175},{columnName:"Azioni",columnLabel:"actions",sortEnabled:!1,columnWidth:135}]),c=m([]);let h=m([]);async function b(n){h.value=await G(n),o.value=!1}I(()=>{o.value=!0,b("")}),I(()=>{o.value=!0,b("")});const f=()=>{c.value.forEach(n=>{i(n)}),c.value.length=0},i=n=>{o.value=!0,E.post(`Customers/Delete?id=${n}`,{}).then(()=>{b("")}).catch(({response:T})=>{console.log(T)})},v=m("");return{tableData:h,tableHeader:a,deleteItem:i,search:v,searchItems:()=>{b(v.value),q.reinitialization()},selectedIds:c,deleteFewItems:f,sort:n=>{const T=n.order==="asc";n.label&&H(h.value,n.label,{reverse:T})},onItemSelect:n=>{c.value=n},getAssetPath:S,loading:o,getItems:b}}}),bt={class:"card"},vt={class:"card-header border-0 pt-6"},_t={class:"card-title"},ht={class:"d-flex align-items-center position-relative my-1"},yt={class:"card-toolbar"},gt={key:0,class:"d-flex justify-content-end","data-kt-customer-table-toolbar":"base"},Ct={type:"button",class:"btn btn-light-primary me-3","data-bs-toggle":"modal","data-bs-target":"#kt_export_modal"},wt={type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#kt_modal_add"},Dt={key:1,class:"d-flex justify-content-end align-items-center","data-kt-customer-table-toolbar":"selected"},At={class:"fw-bold me-5"},kt={class:"me-2"},$t=e("div",{class:"d-flex justify-content-end align-items-center d-none","data-kt-customer-table-toolbar":"selected"},[e("div",{class:"fw-bold me-5"},[e("span",{class:"me-2","data-kt-customer-table-select":"selected_count"}),p("Selezionati ")]),e("button",{type:"button",class:"btn btn-danger","data-kt-customer-table-select":"delete_selected"}," Elimina Selezionati ")],-1),Tt={class:"card-body pt-0"},Ot=["onClick"];function zt(o,a,c,h,b,f){const i=D("KTIcon"),v=D("router-link"),t=D("Datatable"),C=D("ExportCustomersModal"),_=D("AddCustomerModal");return r(),d(k,null,[e("div",bt,[e("div",vt,[e("div",_t,[e("div",ht,[u(i,{"icon-name":"magnifier","icon-class":"fs-1 position-absolute ms-6"}),s(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>o.search=n),onInput:a[1]||(a[1]=n=>o.searchItems()),class:"form-control form-control-solid w-250px ps-15",placeholder:"Ricerca"},null,544),[[l,o.search]])])]),e("div",yt,[o.selectedIds.length===0?(r(),d("div",gt,[e("button",Ct,[u(i,{"icon-name":"exit-up","icon-class":"fs-2"}),p(" Export ")]),e("button",wt,[u(i,{"icon-name":"plus","icon-class":"fs-2"}),p(" Aggiungi cliente ")])])):(r(),d("div",Dt,[e("div",At,[e("span",kt,g(o.selectedIds.length),1),p("Selezionati ")]),e("button",{type:"button",class:"btn btn-danger",onClick:a[2]||(a[2]=n=>o.deleteFewItems())}," Elimina Selezionati ")])),$t])]),e("div",Tt,[u(t,{onOnSort:o.sort,onOnItemsSelect:o.onItemSelect,data:o.tableData,header:o.tableHeader,"enable-items-per-page-dropdown":!0,"checkbox-enabled":!0,"checkbox-label":"id",loading:o.loading},{code:w(({row:n})=>[p(g(n.code),1)]),name:w(({row:n})=>[u(v,{to:{name:"update-customer",params:{id:n.id}},class:"text-gray-600 text-hover-primary mb-1"},{default:w(()=>[p(g(n.name),1)]),_:2},1032,["to"])]),phone:w(({row:n})=>[p(g(n.phone),1)]),email:w(({row:n})=>[p(g(n.email),1)]),actions:w(({row:n})=>[u(v,{to:{name:"update-customer",params:{id:n.id}},class:"btn btn-light-info me-1"},{default:w(()=>[p("Dettagli")]),_:2},1032,["to"]),e("button",{onClick:T=>o.deleteItem(n.id),class:"btn btn-light-danger me-1"},"Elimina",8,Ot)]),_:1},8,["onOnSort","onOnItemsSelect","data","header","loading"])])]),u(C),u(_,{onFormAddSubmitted:a[3]||(a[3]=n=>o.getItems(""))})],64)}const Rt=P(pt,[["render",zt]]);export{Rt as default};
