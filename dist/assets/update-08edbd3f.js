import{g as y}from"./assets-2a66e18f.js";import{D as _}from"./Dropdown3-467b18f6.js";import{K as C}from"./NewCardModal-563106ef.js";import{P as q,a as V,C as T,I as U,E as A,L as P,b as N,S}from"./Statement-2e550b54.js";import{j as z,u as k,ao as B,r as b,o as E,an as g,_ as I,n as d,p as o,am as D,W as s,a0 as n,aj as M,F as h,q as $,x as w,O as R,m,w as F}from"./index-ac5572e4.js";import{a as j}from"./suppliers-17d934fd.js";import{g as L}from"./paymentTypes-391e1e9c.js";import{S as f}from"./sweetalert2-e92a9e07.js";import"./dom-668969a5.js";import"./index.esm-4ca12020.js";import"./KTDataTable-b34f43d4.js";const O={id:0,name:"",code:"",uniqueCode:"",address:"",zipCode:"",city:"",country:"",province:"",vatNumber:"",fiscalCode:"",contactPerson:"",phone:0,mobile:0,email:"",pec:"",fax:"",referenceAgent:"",paymentTypeId:0,bankDetails:"",notes:"",paymentType:{id:0,name:""}},K=z({name:"supplier-details",components:{PaymentRecords:q,PaymentMethods:V,CreditBalance:T,Invoices:U,Events:A,Logs:P,Earnings:N,Statement:S,Dropdown3:_,NewCardModal:C},setup(){const e=k(),t=B(),p=e.params.id;let a=b(!0);const r=b(O);let c=b([]);async function l(){c.value=await L("");const i=await j(p);i&&(r.value=i),a.value=!1}return E(()=>{a.value=!0,l()}),{getAssetPath:y,item:r,saveChanges:()=>{var v;a.value=!0;const i=(v=r.value)==null?void 0:v.paymentType.name;if((i?c.value.find(u=>u.name===i):void 0)===void 0){f.fire({text:"Attenzione, selezionare la modalità di pagamento.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}});return}g.post("Suppliers/Update",r.value).then(()=>{setTimeout(()=>{a.value=!1,f.fire({text:"Operazione completata!",icon:"success",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}})},2e3)}).catch(({response:u})=>{console.log(u),a.value=!1,f.fire({text:"Attenzione, si è verificato un errore.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}})})},PaymentTypes:c,deleteItem:()=>{a.value=!0,g.post(`Suppliers/Delete?id=${p}`,{}).then(()=>{setTimeout(()=>{a.value=!1,f.fire({text:"Operazione completata!",icon:"success",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}})},1e3),t.push({name:"suppliers-list"})}).catch(({response:i})=>{console.log(i)})},loading:a}}}),X=o("div",{class:"card mb-5 mb-xl-10"},[o("div",{class:"card-header border-0"},[o("div",{class:"card-title m-0"},[o("h3",{class:"fw-bold m-0"},"Dettagli")])])],-1),W={class:"collapse show"},G={class:"card-body border-top p-9"},H={class:"row mb-6"},J=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Nome",-1),Q={class:"col-lg-8 fv-row"},Y={class:"row mb-6"},Z=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Codice",-1),x={class:"col-lg-8 fv-row"},oo={class:"row mb-6"},eo=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Codice univoco",-1),lo={class:"col-lg-8 fv-row"},to={class:"row mb-6"},so=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Indirizzo",-1),no={class:"col-lg-8 fv-row"},ao={class:"row mb-6"},io=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Codice postale",-1),ro={class:"col-lg-8 fv-row"},mo={class:"row mb-6"},co=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Città",-1),fo={class:"col-lg-8 fv-row"},po={class:"row mb-6"},uo=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Nazione",-1),bo={class:"col-lg-8 fv-row"},vo={class:"row mb-6"},go=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Provincia",-1),ho={class:"col-lg-8 fv-row"},wo={class:"row mb-6"},yo=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"P. IVA",-1),_o={class:"col-lg-8 fv-row"},Co={class:"row mb-6"},qo=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Codice fiscale",-1),Vo={class:"col-lg-8 fv-row"},To={class:"row mb-6"},Uo=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Referente",-1),Ao={class:"col-lg-8 fv-row"},Po={class:"row mb-6"},No=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Telefono",-1),So={class:"col-lg-8 fv-row"},zo={class:"row mb-6"},ko=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Cellulare",-1),Bo={class:"col-lg-8 fv-row"},Eo={class:"row mb-6"},Io=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Email",-1),Do={class:"col-lg-8 fv-row"},Mo={class:"row mb-6"},$o=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"PEC",-1),Ro={class:"col-lg-8 fv-row"},Fo={class:"row mb-6"},jo=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"FAX",-1),Lo={class:"col-lg-8 fv-row"},Oo={class:"row mb-6"},Ko=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Agente di riferimento",-1),Xo={class:"col-lg-8 fv-row"},Wo={class:"row mb-6"},Go=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Metodo di pagamento",-1),Ho={class:"col-lg-8 fv-row"},Jo=["value"],Qo={class:"row mb-6"},Yo=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Coordinate bancarie",-1),Zo={class:"col-lg-8 fv-row"},xo={class:"row mb-6"},oe=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Note",-1),ee={class:"col-lg-8 fv-row"},le={class:"row mb-6"},te=o("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Note",-1),se={class:"col-lg-8 fv-row"},ne={class:"card-footer d-flex justify-content-end py-6 px-9"},ae=["data-kt-indicator"],ie={key:0,class:"indicator-label"},re={key:1,class:"indicator-progress"},de=o("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function me(e,t,p,a,r,c){return m(),d(h,null,[X,o("div",W,[o("form",{class:"form",novalidate:"",onSubmit:t[22]||(t[22]=D(l=>e.saveChanges(),["prevent"]))},[o("div",G,[o("div",H,[J,o("div",Q,[s(o("input",{type:"text",name:"name",class:"form-control form-control-lg",placeholder:"Nome","onUpdate:modelValue":t[0]||(t[0]=l=>e.item.name=l)},null,512),[[n,e.item.name]])])]),o("div",Y,[Z,o("div",x,[s(o("input",{type:"text",name:"code",class:"form-control form-control-lg",placeholder:"Codice","onUpdate:modelValue":t[1]||(t[1]=l=>e.item.code=l)},null,512),[[n,e.item.code]])])]),o("div",oo,[eo,o("div",lo,[s(o("input",{type:"text",name:"uniqueCode",class:"form-control form-control-lg",placeholder:"Codice univoco","onUpdate:modelValue":t[2]||(t[2]=l=>e.item.uniqueCode=l)},null,512),[[n,e.item.uniqueCode]])])]),o("div",to,[so,o("div",no,[s(o("input",{type:"text",name:"address",class:"form-control form-control-lg",placeholder:"Indirizzo","onUpdate:modelValue":t[3]||(t[3]=l=>e.item.address=l)},null,512),[[n,e.item.address]])])]),o("div",ao,[io,o("div",ro,[s(o("input",{type:"text",name:"zipCode",class:"form-control form-control-lg",placeholder:"Codice postale","onUpdate:modelValue":t[4]||(t[4]=l=>e.item.zipCode=l)},null,512),[[n,e.item.zipCode]])])]),o("div",mo,[co,o("div",fo,[s(o("input",{type:"text",name:"city",class:"form-control form-control-lg",placeholder:"Città","onUpdate:modelValue":t[5]||(t[5]=l=>e.item.city=l)},null,512),[[n,e.item.city]])])]),o("div",po,[uo,o("div",bo,[s(o("input",{type:"text",name:"country",class:"form-control form-control-lg",placeholder:"Nazione","onUpdate:modelValue":t[6]||(t[6]=l=>e.item.country=l)},null,512),[[n,e.item.country]])])]),o("div",vo,[go,o("div",ho,[s(o("input",{type:"text",name:"province",class:"form-control form-control-lg",placeholder:"Provincia","onUpdate:modelValue":t[7]||(t[7]=l=>e.item.province=l)},null,512),[[n,e.item.province]])])]),o("div",wo,[yo,o("div",_o,[s(o("input",{type:"text",name:"vatNumber",class:"form-control form-control-lg",placeholder:"P. IVA","onUpdate:modelValue":t[8]||(t[8]=l=>e.item.vatNumber=l)},null,512),[[n,e.item.vatNumber]])])]),o("div",Co,[qo,o("div",Vo,[s(o("input",{type:"text",name:"fiscalCode",class:"form-control form-control-lg",placeholder:"Codice fiscale","onUpdate:modelValue":t[9]||(t[9]=l=>e.item.fiscalCode=l)},null,512),[[n,e.item.fiscalCode]])])]),o("div",To,[Uo,o("div",Ao,[s(o("input",{type:"text",name:"contactPerson",class:"form-control form-control-lg",placeholder:"Referente","onUpdate:modelValue":t[10]||(t[10]=l=>e.item.contactPerson=l)},null,512),[[n,e.item.contactPerson]])])]),o("div",Po,[No,o("div",So,[s(o("input",{type:"number",name:"phone",class:"form-control form-control-lg",placeholder:"Telefono","onUpdate:modelValue":t[11]||(t[11]=l=>e.item.phone=l)},null,512),[[n,e.item.phone]])])]),o("div",zo,[ko,o("div",Bo,[s(o("input",{type:"number",name:"mobile",class:"form-control form-control-lg",placeholder:"Cellulare","onUpdate:modelValue":t[12]||(t[12]=l=>e.item.mobile=l)},null,512),[[n,e.item.mobile]])])]),o("div",Eo,[Io,o("div",Do,[s(o("input",{type:"email",name:"email",class:"form-control form-control-lg",placeholder:"Email","onUpdate:modelValue":t[13]||(t[13]=l=>e.item.email=l)},null,512),[[n,e.item.email]])])]),o("div",Mo,[$o,o("div",Ro,[s(o("input",{type:"text",name:"pec",class:"form-control form-control-lg",placeholder:"PEC","onUpdate:modelValue":t[14]||(t[14]=l=>e.item.pec=l)},null,512),[[n,e.item.pec]])])]),o("div",Fo,[jo,o("div",Lo,[s(o("input",{type:"text",name:"fax",class:"form-control form-control-lg",placeholder:"FAX","onUpdate:modelValue":t[15]||(t[15]=l=>e.item.fax=l)},null,512),[[n,e.item.fax]])])]),o("div",Oo,[Ko,o("div",Xo,[s(o("input",{type:"text",name:"referenceAgent",class:"form-control form-control-lg",placeholder:"Agente di riferimento","onUpdate:modelValue":t[16]||(t[16]=l=>e.item.referenceAgent=l)},null,512),[[n,e.item.referenceAgent]])])]),o("div",Wo,[Go,o("div",Ho,[s(o("select",{as:"select",name:"paymentType",class:"form-select form-select-lg fw-semobold","onUpdate:modelValue":t[17]||(t[17]=l=>e.item.paymentType.name=l)},[(m(!0),d(h,null,$(e.PaymentTypes,l=>(m(),d("option",{key:l.id,value:l.name},F(l.name),9,Jo))),128))],512),[[M,e.item.paymentType.name]])])]),o("div",Qo,[Yo,o("div",Zo,[s(o("input",{type:"text",name:"bankDetails",class:"form-control form-control-lg",placeholder:"Coordinate bancarie","onUpdate:modelValue":t[18]||(t[18]=l=>e.item.bankDetails=l)},null,512),[[n,e.item.bankDetails]])])]),o("div",xo,[oe,o("div",ee,[s(o("input",{type:"text",name:"notes",class:"form-control form-control-lg",placeholder:"Note","onUpdate:modelValue":t[19]||(t[19]=l=>e.item.notes=l)},null,512),[[n,e.item.notes]])])]),o("div",le,[te,o("div",se,[s(o("input",{type:"text",name:"notes",class:"form-control form-control-lg",placeholder:"Note","onUpdate:modelValue":t[20]||(t[20]=l=>e.item.notes=l)},null,512),[[n,e.item.notes]])])])]),o("div",ne,[o("button",{type:"button",onClick:t[21]||(t[21]=l=>e.deleteItem()),class:"btn btn-danger btn-active-light-primary me-2"}," Elimina "),o("button",{"data-kt-indicator":e.loading?"on":null,class:"btn btn-lg btn-primary",type:"submit"},[e.loading?w("",!0):(m(),d("span",ie," Salva modifiche ")),e.loading?(m(),d("span",re,[R(" Attendere... "),de])):w("",!0)],8,ae)])],32)])],64)}const Te=I(K,[["render",me]]);export{Te as default};
