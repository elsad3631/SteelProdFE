import{g as A}from"./assets-2a66e18f.js";import{D as z}from"./Dropdown3-467b18f6.js";import{K as B}from"./NewCardModal-563106ef.js";import{P as U,a as I,C as V,I as M,E as P,L as q,b as D,S as E}from"./Statement-2e550b54.js";import{j as O,u as Q,ao as N,r as p,o as $,an as C,_ as j,n as r,p as e,am as F,W as i,a0 as m,aj as w,F as g,q as T,x as S,O as L,m as d,w as _}from"./index-ac5572e4.js";import{a as R}from"./profiles-ab9c58bb.js";import{g as G}from"./profileTypes-8897968e.js";import{g as K}from"./suppliers-17d934fd.js";import{g as W}from"./DeliveryTypes-4fbe9e42.js";import{S as u}from"./sweetalert2-e92a9e07.js";import"./dom-668969a5.js";import"./index.esm-4ca12020.js";import"./KTDataTable-b34f43d4.js";const x=O({name:"profile-details",components:{PaymentRecords:U,PaymentMethods:I,CreditBalance:V,Invoices:M,Events:P,Logs:q,Earnings:D,Statement:E,Dropdown3:z,NewCardModal:B},setup(){const s=Q(),l=N(),f=s.params.id;let n=p(!0);const c=p({id:0,profileType:"",profileTypeId:0,code:"",supplierArticleCode:"",name:"",description:"",unitOfMeasure:"",supplier:"",supplierId:0,price:0,packageQuantity:0,minimumStock:0,deliveryTimeframe:"",deliveryType:"",deliveryTypeId:0,quantity:0});let v=p([]),t=p([]),h=p([]);async function k(){var b,y,a;v.value=await G(""),t.value=await K(""),h.value=await W("");const o=await R(f);c.value={id:f,profileType:((b=o==null?void 0:o.profileType)==null?void 0:b.name)||"",profileTypeId:(o==null?void 0:o.profileTypeId)||0,code:(o==null?void 0:o.code)||"",supplierArticleCode:(o==null?void 0:o.supplierArticleCode)||"",name:(o==null?void 0:o.name)||"",description:(o==null?void 0:o.description)||"",unitOfMeasure:(o==null?void 0:o.unitOfMeasure)||"",supplier:((y=o==null?void 0:o.supplier)==null?void 0:y.name)||"",supplierId:(o==null?void 0:o.supplierId)||0,price:(o==null?void 0:o.price)||0,packageQuantity:(o==null?void 0:o.packageQuantity)||0,minimumStock:(o==null?void 0:o.minimumStock)||0,deliveryTimeframe:(o==null?void 0:o.deliveryTimeframe)||"",deliveryType:((a=o==null?void 0:o.deliveryType)==null?void 0:a.name)||"",deliveryTypeId:(o==null?void 0:o.deliveryTypeId)||0,quantity:(o==null?void 0:o.quantity)||0},n.value=!1}return $(()=>{n.value=!0,k()}),{getAssetPath:A,item:c,saveChanges:()=>{n.value=!0;const o=v.value.find(a=>a.name===c.value.profileType),b=t.value.find(a=>a.name===c.value.supplier),y=h.value.find(a=>a.name===c.value.deliveryType);if(o===void 0){u.fire({text:"Attenzione, selezionare la tipologia dell'accessorio.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}});return}if(b===void 0){u.fire({text:"Attenzione, selezionare il fornitore.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}});return}if(y===void 0){u.fire({text:"Attenzione, selezionare il metodo di pagamento.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}});return}C.post("Profiles/Update",c.value).then(()=>{setTimeout(()=>{n.value=!1,u.fire({text:"Operazione completata!",icon:"success",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}})},2e3)}).catch(({response:a})=>{console.log(a),n.value=!1,u.fire({text:"Attenzione, si è verificato un errore.",icon:"error",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}})})},ProfileTypes:v,Suppliers:t,DeliveryTypes:h,deleteItem:()=>{n.value=!0,C.post(`Profiles/Delete?id=${f}`,{}).then(()=>{setTimeout(()=>{n.value=!1,u.fire({text:"Operazione completata!",icon:"success",buttonsStyling:!1,confirmButtonText:"Continua!",heightAuto:!1,customClass:{confirmButton:"btn btn-primary"}})},1e3),l.push({name:"profiles-list"})}).catch(({response:o})=>{console.log(o)})},loading:n}}}),H=e("div",{class:"card mb-5 mb-xl-10"},[e("div",{class:"card-header border-0"},[e("div",{class:"card-title m-0"},[e("h3",{class:"fw-bold m-0"},"Dettagli")])])],-1),J={class:"collapse show"},X={class:"card-body border-top p-9"},Y={class:"row mb-6"},Z=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Nome",-1),ee={class:"col-lg-8 fv-row"},oe={class:"row mb-6"},te=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Codice",-1),se={class:"col-lg-8 fv-row"},le={class:"row mb-6"},ie=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Codice articolo fornitore",-1),ae={class:"col-lg-8 fv-row"},ne={class:"row mb-6"},re=e("label",{class:"col-lg-4 col-form-label fw-semobold fs-6"},"Prezzo",-1),me={class:"col-lg-8 fv-row"},de={class:"row mb-6"},ce=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Tipologia profilo",-1),ue={class:"col-lg-8 fv-row"},pe=["value"],fe={class:"row mb-6"},ve=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Fornitore",-1),be={class:"col-lg-8 fv-row"},ye=["value"],ge={class:"row mb-6"},he=e("label",{class:"col-lg-4 col-form-label fw-semobold fs-6"},[e("span",null,"Descrizione")],-1),we={class:"col-lg-8 fv-row"},Te={class:"row mb-6"},_e=e("label",{class:"col-lg-4 col-form-label fw-semobold fs-6"},"Giacenza minima",-1),Ce={class:"col-lg-8 fv-row"},Se={class:"row mb-6"},ke=e("label",{class:"col-lg-4 col-form-label fw-semobold fs-6"},"Quantità per confezione",-1),Ae={class:"col-lg-8 fv-row"},ze={class:"row mb-6"},Be=e("label",{class:"col-lg-4 col-form-label fw-semobold fs-6"},"Unità di misura",-1),Ue={class:"col-lg-8 fv-row"},Ie={class:"row mb-6"},Ve=e("label",{class:"col-lg-4 col-form-label fw-semobold fs-6"},"Tempistiche di consegna",-1),Me={class:"col-lg-8 fv-row"},Pe={class:"row mb-6"},qe=e("label",{class:"col-lg-4 col-form-label required fw-semobold fs-6"},"Modalità di consegna",-1),De={class:"col-lg-8 fv-row"},Ee=["value"],Oe={class:"card-footer d-flex justify-content-end py-6 px-9"},Qe=["data-kt-indicator"],Ne={key:0,class:"indicator-label"},$e={key:1,class:"indicator-progress"},je=e("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1);function Fe(s,l,f,n,c,v){return d(),r(g,null,[H,e("div",J,[e("form",{class:"form",novalidate:"",onSubmit:l[13]||(l[13]=F(t=>s.saveChanges(),["prevent"]))},[e("div",X,[e("div",Y,[Z,e("div",ee,[i(e("input",{type:"text",name:"name",class:"form-control form-control-lg",placeholder:"Nome","onUpdate:modelValue":l[0]||(l[0]=t=>s.item.name=t)},null,512),[[m,s.item.name]])])]),e("div",oe,[te,e("div",se,[i(e("input",{type:"text",name:"code",class:"form-control form-control-lg",placeholder:"Codice","onUpdate:modelValue":l[1]||(l[1]=t=>s.item.code=t)},null,512),[[m,s.item.code]])])]),e("div",le,[ie,e("div",ae,[i(e("input",{type:"text",name:"supplierArticleCode",class:"form-control form-control-lg",placeholder:"Codice articolo fornitore","onUpdate:modelValue":l[2]||(l[2]=t=>s.item.supplierArticleCode=t)},null,512),[[m,s.item.supplierArticleCode]])])]),e("div",ne,[re,e("div",me,[i(e("input",{type:"number",name:"price",class:"form-control form-control-lg",placeholder:"Prezzo","onUpdate:modelValue":l[3]||(l[3]=t=>s.item.price=t)},null,512),[[m,s.item.price]])])]),e("div",de,[ce,e("div",ue,[i(e("select",{as:"select",name:"country",class:"form-select form-select-lg fw-semobold","onUpdate:modelValue":l[4]||(l[4]=t=>s.item.profileType=t)},[(d(!0),r(g,null,T(s.ProfileTypes,t=>(d(),r("option",{key:t.id,value:t.name},_(t.name),9,pe))),128))],512),[[w,s.item.profileType]])])]),e("div",fe,[ve,e("div",be,[i(e("select",{as:"select",name:"supplier",class:"form-select form-select-lg fw-semobold","onUpdate:modelValue":l[5]||(l[5]=t=>s.item.supplier=t)},[(d(!0),r(g,null,T(s.Suppliers,t=>(d(),r("option",{key:t.id,value:t.name},_(t.name),9,ye))),128))],512),[[w,s.item.supplier]])])]),e("div",ge,[he,e("div",we,[i(e("textarea",{name:"description",class:"form-control form-control-lg","onUpdate:modelValue":l[6]||(l[6]=t=>s.item.description=t)},null,512),[[m,s.item.description]])])]),e("div",Te,[_e,e("div",Ce,[i(e("input",{type:"number",name:"minimumStock",class:"form-control form-control-lg",placeholder:"Giacenza minima","onUpdate:modelValue":l[7]||(l[7]=t=>s.item.minimumStock=t)},null,512),[[m,s.item.minimumStock]])])]),e("div",Se,[ke,e("div",Ae,[i(e("input",{type:"number",name:"packageQuantity",class:"form-control form-control-lg",placeholder:"Quantità per confezione","onUpdate:modelValue":l[8]||(l[8]=t=>s.item.packageQuantity=t)},null,512),[[m,s.item.packageQuantity]])])]),e("div",ze,[Be,e("div",Ue,[i(e("input",{type:"text",name:"unitOfMeasure",class:"form-control form-control-lg",placeholder:"Unità di misura","onUpdate:modelValue":l[9]||(l[9]=t=>s.item.unitOfMeasure=t)},null,512),[[m,s.item.unitOfMeasure]])])]),e("div",Ie,[Ve,e("div",Me,[i(e("input",{type:"text",name:"deliveryTimeframe",class:"form-control form-control-lg",placeholder:"Tempistiche di consegna","onUpdate:modelValue":l[10]||(l[10]=t=>s.item.deliveryTimeframe=t)},null,512),[[m,s.item.deliveryTimeframe]])])]),e("div",Pe,[qe,e("div",De,[i(e("select",{as:"select",name:"deliveryType",class:"form-select form-select-lg fw-semobold","onUpdate:modelValue":l[11]||(l[11]=t=>s.item.deliveryType=t)},[(d(!0),r(g,null,T(s.DeliveryTypes,t=>(d(),r("option",{key:t.id,value:t.name},_(t.name),9,Ee))),128))],512),[[w,s.item.deliveryType]])])])]),e("div",Oe,[e("button",{type:"button",onClick:l[12]||(l[12]=t=>s.deleteItem()),class:"btn btn-danger btn-active-light-primary me-2"}," Elimina "),e("button",{"data-kt-indicator":s.loading?"on":null,class:"btn btn-lg btn-primary",type:"submit"},[s.loading?S("",!0):(d(),r("span",Ne," Salva modifiche ")),s.loading?(d(),r("span",$e,[L(" Attendere... "),je])):S("",!0)],8,Qe)])],32)])],64)}const lo=j(x,[["render",Fe]]);export{lo as default};
